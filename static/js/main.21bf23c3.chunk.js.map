{"version":3,"sources":["containers/Dashboard.module.css","images/lfs_logo.png","components/LoginBanner.module.css","components/ErrorsTable.module.css","reducers/authReducer.js","reducers/mailReducer.js","reducers/progressReducer.js","reducers/index.js","actions/actionTypes.js","common/common.js","common/google-auth.js","components/SignStatusBlock.jsx","components/Header.js","config.js","components/LoadingBanner.jsx","components/LoginBanner.jsx","components/ErrorsTable.jsx","common/google-mail.js","common/core.js","containers/Dashboard.jsx","actions/authActions.js","actions/mailActions.js","actions/progressActions.js","containers/App.jsx","serviceWorker.js","index.js","components/Header.module.css","components/SignInSignOutBlock.module.css","components/LoadingBanner.module.css"],"names":["module","exports","throwNotInitialized","Error","initialState","initialized","isSignedIn","profile","tokens","error","undefined","signIn","signOut","client","active","max","current","message","rootReducer","combineReducers","auth","state","action","type","mail","progress","awaitWindowLoad","selectorFunc","onReady","timer","setInterval","result","clearInterval","getAuthData","auth2","user","currentUser","get","basicProfile","getBasicProfile","authResponse","getAuthResponse","googleId","getId","imageUrl","getImageUrl","email","getEmail","name","getName","givenName","getGivenName","familyName","getFamilyName","idToken","id_token","accessToken","access_token","useGoogleAuth","clientId","hostedDomain","scope","onInitialized","onInitializationError","onSignedIn","onSignedOut","useEffect","onInit","onError","clientConfig","client_id","cookie_policy","hosted_domain","fetch_basic_profile","ux_mode","window","gapi","load","init","then","initGoogleAuthLib","listen","_","noop","err","console","disconnect","authData","SignStatusBlock","disabled","userPickLink","onSignOutClicked","className","styles","container","avatarContainer","size","icon","src","nameAndButtonContainer","userNameSpan","href","onClick","e","preventDefault","Header","header","span","offset","logoContainer","LfsLogo","width","alt","logo","titleContainer","logoTitle","target","dayjs","fromNow","LoadingBanner","errors","havePercent","percent","parseInt","status","map","errorAlert","LoginBanner","onSignInClicked","subjectColumn","title","dataIndex","key","render","subject","open","actions","rel","slice","dateColumn","date","d","format","placement","mainTableColumns","expandedRowRender","others","isEmpty","log","columns","showHeader","rowKey","dataSource","pagination","pageSize","position","hideOnSinglePage","ErrorsTable","messages","expandRowByClick","useGoogleMail","apiKey","params","discoveryDocs","initGmailLib","getMessages","ids","a","batch","newBatch","forEach","id","add","request","path","metadataHeaders","Promise","resolve","reject","response","values","listAllIds","pageToken","after","subtract","mailList","gmail","users","list","userId","q","nextPageToken","concat","isNil","filterNewIds","Set","localforage","keys","knownKeys","filter","has","sanitizeSubject","replace","saveMessages","promises","headers","payload","find","toLowerCase","value","setItem","all","getAggregatedMessages","getItem","rest","timestamp","unix","groupBy","entries","last","maxBy","lastId","number","length","reverse","sortBy","remove","localhostRun","location","host","includes","mapDispatchToProps","onAuthInit","onAuthInitError","onMailInit","onMailInitError","activateProgress","incrementProgress","deactivateProgress","connect","authInitialized","authError","mailInitialized","mailError","func","deps","useState","setMessages","newIds","doAsync","mainContainer","compact","store","createStore","composeWithDevTools","extend","relativeTime","App","Helmet","Boolean","hostname","match","ReactDOM","document","getElementById","navigator","serviceWorker","ready","registration","unregister","catch"],"mappings":"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","file":"static/js/main.21bf23c3.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"mainContainer\":\"Dashboard_mainContainer__AvxgX\"};","module.exports = __webpack_public_path__ + \"static/media/lfs_logo.aaf7ea0d.png\";","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"LoginBanner_container__kdXDu\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"nestedTable\":\"ErrorsTable_nestedTable__2x5xs\"};","import {AUTH_INIT, AUTH_INIT_ERROR, AUTH_SIGN_IN, AUTH_SIGN_OUT} from '../actions/actionTypes';\n\nconst throwNotInitialized = () => {\n  throw Error('gauth is not initialized yet');\n};\n\nconst initialState = {\n  initialized: false,\n  isSignedIn: false,\n  profile: {},\n  tokens: {},\n  error: undefined,\n  signIn: throwNotInitialized,\n  signOut: throwNotInitialized,\n};\n\n\nexport const authReducer = (state = initialState, action) => {\n  const { signIn, signOut, error, profile, tokens } = action;\n  switch (action.type) {\n    case AUTH_INIT:\n      return { ...state, initialized: true, signIn, signOut };\n    case AUTH_INIT_ERROR:\n      return { ...initialState, error };\n    case AUTH_SIGN_IN:\n      return { ...state, isSignedIn: true, profile, tokens };\n    case AUTH_SIGN_OUT:\n      return { ...state, isSignedIn: false, profile: {}, tokens: {} };\n    default:\n      return state;\n  }\n};","import {MAIL_INIT, MAIL_INIT_ERROR} from '../actions/actionTypes';\n\nconst initialState = {\n  initialized: false,\n  client: undefined,\n  error: undefined,\n};\n\nexport const mailReducer = (state = initialState, action) => {\n  const { client, error } = action;\n  switch (action.type) {\n    case MAIL_INIT:\n      return { ...state, client, initialized: true };\n    case MAIL_INIT_ERROR:\n      return { ...initialState, error };\n    default:\n      return state;\n  }\n};","import {PROGRESS_ACTIVATE, PROGRESS_DEACTIVATE, PROGRESS_INCREMENT} from '../actions/actionTypes';\n\nconst initialState = {\n  active: false,\n  max: undefined,\n  current: undefined,\n  message: 'Loading...',\n};\n\n\nexport const progressReducer = (state = initialState, action) => {\n  const { type, message, max, current } = action;\n  switch (type) {\n    case PROGRESS_ACTIVATE:\n      return { ...state, active: true, max, current, message };\n    case PROGRESS_INCREMENT:\n      return { ...state, current: state.current + 1 };\n    case PROGRESS_DEACTIVATE:\n      return { ...state, active: false };\n    default:\n      return state;\n  }\n};\n","import {combineReducers} from 'redux';\nimport {authReducer} from './authReducer';\nimport {mailReducer} from './mailReducer';\nimport {progressReducer} from './progressReducer';\n\nconst rootReducer = combineReducers({\n  auth: authReducer,\n  mail: mailReducer,\n  progress: progressReducer,\n});\n\nexport default rootReducer;","export const AUTH_INIT = 'AUTH_INIT';\nexport const AUTH_INIT_ERROR = 'AUTH_INIT_ERROR';\nexport const AUTH_SIGN_IN = 'AUTH_SIGN_IN';\nexport const AUTH_SIGN_OUT = 'AUTH_SIGN_OUT';\n\nexport const MAIL_INIT = 'MAIL_INIT';\nexport const MAIL_INIT_ERROR = 'MAIL_INIT_ERROR';\n\nexport const PROGRESS_ACTIVATE = 'PROGRESS_ACTIVATE';\nexport const PROGRESS_INCREMENT = 'PROGRESS_INCREMENT';\nexport const PROGRESS_DEACTIVATE = 'PROGRESS_DEACTIVATE';","import {useEffect} from 'react';\n\nexport const awaitWindowLoad = (selectorFunc, onReady) => {\n  const timer = setInterval(\n    () => {\n      const result = selectorFunc();\n      if (result) {\n        clearInterval(timer);\n        onReady(result);\n      }\n    },\n    100);\n};\n\nexport const useAsyncEffect = (func, deps) => {\n  useEffect(() => {\n    const doAsync = async () => {\n      await func();\n    };\n    doAsync();\n  }, deps);\n};","import {useEffect} from 'react';\nimport _ from 'lodash';\nimport {awaitWindowLoad} from './common';\n\nconst initGoogleAuthLib = ({ clientId, hostedDomain, scope, onInit, onError }) => {\n  const clientConfig = {\n    client_id: clientId,\n    cookie_policy: 'single_host_origin',\n    hosted_domain: hostedDomain,\n    fetch_basic_profile: true,\n    ux_mode: 'popup',\n    scope,\n  };\n  awaitWindowLoad(() => window.gapi, (gapi) => {\n    gapi.load(\n      'auth2',\n      () => gapi.auth2.init(clientConfig).then(onInit, onError),\n      onError,\n    );\n  });\n};\n\n\nconst getAuthData = (auth2) => {\n  const user = auth2.currentUser.get();\n  if (user === undefined) return {\n    isSignedIn: false,\n    profile: {},\n    tokens: {},\n  };\n  const basicProfile = user.getBasicProfile();\n  const authResponse = user.getAuthResponse();\n  const isSignedIn = user.isSignedIn();\n  const profile = basicProfile === undefined ? {} : {\n    googleId: basicProfile.getId(),\n    imageUrl: basicProfile.getImageUrl(),\n    email: basicProfile.getEmail(),\n    name: basicProfile.getName(),\n    givenName: basicProfile.getGivenName(),\n    familyName: basicProfile.getFamilyName(),\n  };\n  const tokens = authResponse === undefined ? {} : {\n    idToken: authResponse.id_token,\n    accessToken: authResponse.access_token,\n  };\n  return {\n    isSignedIn,\n    profile,\n    tokens,\n  };\n};\n\nexport const useGoogleAuth = (\n  {\n    clientId,\n    hostedDomain,\n    scope,\n    onInitialized,\n    onInitializationError,\n    onSignedIn,\n    onSignedOut,\n  }) => {\n  useEffect(() => {\n    const onInit = (auth2) => {\n      auth2.isSignedIn.listen((isSignedIn) => {\n        isSignedIn ? onSignedIn(getAuthData(auth2)) : onSignedOut();\n      });\n      const signIn = () => auth2.signIn().then(_.noop, err => console.error(`Got error:`, err));\n      const signOut = () => auth2.signOut().then(auth2.disconnect());\n      onInitialized({ signIn, signOut });\n      const authData = getAuthData(auth2);\n      const { isSignedIn } = authData;\n      if (isSignedIn) onSignedIn(authData);\n    };\n    const onError = (error) => {\n      onInitializationError(error);\n    };\n    initGoogleAuthLib({ clientId, hostedDomain, scope, onInit, onError });\n  }, []);\n};\n\n","import React from 'react';\nimport styles from './SignInSignOutBlock.module.css';\nimport {Avatar} from 'antd';\n\nconst SignStatusBlock = ({ disabled, name, userPickLink, onSignOutClicked }) => {\n  return (\n    <div className={styles.container}>\n      <div className={styles.avatarContainer}>\n        <Avatar size={48} icon='user' src={userPickLink}/>\n      </div>\n      <div className={styles.nameAndButtonContainer}>\n        <div className={styles.userNameSpan}>{name}</div>\n        {disabled ? <span>Sign out</span> :\n          <a href=''\n             onClick={(e) => {\n               e.preventDefault();\n               onSignOutClicked();\n             }}>\n            Sign out\n          </a>\n        }\n      </div>\n    </div>\n  );\n};\n\nexport default SignStatusBlock;","import React from 'react';\nimport styles from './Header.module.css';\nimport {Col, Row} from 'antd';\nimport LfsLogo from '../images/lfs_logo.png';\nimport SignStatusBlock from './SignStatusBlock';\nimport {released, releaseLink, version} from '../config';\nimport dayjs from 'dayjs';\n\nconst Header = ({ name, imageUrl, isSignedIn, signOut }) => {\n  return (\n    <header className={styles.header}>\n      <Row>\n        <Col span={12} offset={2}>\n          <div className={styles.logoContainer}>\n            <img src={LfsLogo} width='48px' alt='Logo' className={styles.logo}/>\n            <div className={styles.titleContainer}>\n              <h1 className={styles.logoTitle}>LFS Errors Dashboard</h1>\n              &nbsp;&nbsp;\n              <a href={releaseLink} target='_blank'>{version}</a>&nbsp;released {dayjs(released).fromNow()}\n            </div>\n          </div>\n        </Col>\n        <Col offset={4} span={4}>\n          {isSignedIn && <SignStatusBlock name={name}\n                                          userPickLink={imageUrl}\n                                          onSignOutClicked={signOut}\n          />}\n        </Col>\n      </Row>\n    </header>\n  );\n};\n\nexport default Header;","export const version = 'v0.3.1';\nexport const released = '2020-02-24T13:05:35+03:00';\nexport const releaseLink = 'https://github.com/burkov/lfs-errors-dashboard/releases/tag/v0.3.1';\n","import React from 'react';\nimport {Alert, Progress, Spin} from 'antd';\nimport styles from './LoadingBanner.module.css';\n\nconst LoadingBanner = ({ current, max, message, errors }) => {\n  const havePercent = current !== undefined && max !== undefined;\n  const percent = havePercent && (\n    parseInt(current) * 100 / parseInt(max)\n  );\n  return (\n    <div className={styles.container}>\n      <Spin size='large'/>\n      <p className={styles.message}>{message}</p>\n      {havePercent && <Progress percent={percent} status='active'/>}\n      {errors.map((error) => <Alert message={error} type='error' className={styles.errorAlert}/>)}\n    </div>\n  );\n};\n\nexport default LoadingBanner;","import React from 'react';\nimport styles from './LoginBanner.module.css';\nimport {Button} from 'antd';\n\n\nconst LoginBanner = ({ onSignInClicked, disabled }) => {\n  return (\n    <div className={styles.container}>\n      <p>To start using the app sign in to your <strong>@jetbrains.com</strong> account</p>\n      <Button disabled={disabled} onClick={onSignInClicked}>Sign in</Button>\n    </div>\n  );\n};\n\nexport default LoginBanner;","import React from 'react';\nimport {Button, Table, Tooltip} from 'antd';\nimport dayjs from 'dayjs';\nimport styles from './ErrorsTable.module.css'\nimport _ from 'lodash';\n\nconst subjectColumn = {\n  title: 'Subject',\n  dataIndex: 'subject',\n  key: 'subject',\n  render: (subject, { actions: { open } }) => {\n    return (\n      <>\n        <a href={open} target='_blank' rel=\"noopener noreferrer\">\n          <Button icon='link' type='link'/>\n        </a>\n        &nbsp;\n        <span>{subject.slice(0, 160)}</span>\n      </>\n    );\n  },\n};\n\nconst dateColumn = ({ title }) => ({\n  title,\n  dataIndex: 'date',\n  key: 'date',\n  render: (date) => {\n    const d = dayjs(date);\n    return (\n      <Tooltip title={d.format()} placement='bottom'>\n        {d.fromNow()}\n      </Tooltip>\n    );\n  },\n});\n\nconst mainTableColumns = [\n  dateColumn({ title: 'Last' }),\n  {\n    title: '# of similar',\n    dataIndex: 'number',\n    key: 'number',\n  },\n  subjectColumn,\n];\n\n\nconst expandedRowRender = ({ others }) => {\n  if(_.isEmpty(others)) return false;\n  console.log(others);\n  const columns = [\n    dateColumn({ title: 'Date' }),\n    subjectColumn,\n  ];\n  return <Table\n    showHeader={false}\n    rowKey='id'\n    dataSource={others}\n    columns={columns}\n    size='small'\n    pagination={{\n      pageSize: 10,\n      position: 'bottom',\n      hideOnSinglePage: true\n    }}\n  />;\n};\n\nconst ErrorsTable = ({ messages }) => {\n  return (\n    <>\n      <Table\n        rowKey='id'\n        expandRowByClick={true}\n        dataSource={messages}\n        columns={mainTableColumns}\n        size='small'\n        pagination={false}\n        expandedRowRender={expandedRowRender}\n      />\n    </>\n  );\n};\n\n\nexport default ErrorsTable;","import {useEffect} from 'react';\nimport {awaitWindowLoad} from './common';\nimport _ from 'lodash';\nimport dayjs from 'dayjs';\n\nconst initGmailLib = ({ apiKey, onInit, onError }) => {\n  const params = {\n    apiKey: apiKey,\n    discoveryDocs: [ 'https://www.googleapis.com/discovery/v1/apis/gmail/v1/rest' ],\n  };\n  awaitWindowLoad(() => window.gapi, (gapi) => {\n    gapi.load(\n      'client',\n      () => gapi.client.init(params).then(onInit, onError),\n      onError,\n    );\n  });\n};\n\nexport const useGoogleMail = ({ apiKey, onInitialized, onInitializationError }) => {\n  useEffect(() => {\n    initGmailLib({\n      apiKey,\n      onInit: () => {\n        onInitialized(window.gapi.client);\n      },\n      onError: onInitializationError,\n    });\n  }, []);\n};\n\nexport const getMessages = async (client, ids) => {\n  if (_.isEmpty(ids)) return [];\n  const batch = client.newBatch();\n  ids.forEach((id) => {\n    batch.add(client.request({\n      path: `gmail/v1/users/me/messages/${id}`,\n      params: {\n        format: 'metadata',\n        metadataHeaders: [ 'Subject', 'Date' ],\n      },\n    }));\n  });\n  return new Promise((resolve, reject) => {\n    batch.then(\n      (response) => {\n        const { result } = response;\n        resolve(_.map(_.values(result), (e) => _.get(e, 'result')));\n      },\n      (e) => reject(e),\n    );\n  });\n};\n\nexport const listAllIds = async (client) => {\n  let pageToken = undefined;\n  let result = [];\n  const after = dayjs().subtract(30, 'day').format('YYYY/MM/DD');\n  const mailList = '(<jetprofile-prod-lfs-notifications.jetbrains.com>)';\n  do {\n    const { result: { messages, nextPageToken } } = await client.gmail.users.messages.list({\n      userId: 'me',\n      q: `list:${mailList} after:${after}`,\n      pageToken,\n    });\n    result = result.concat(_.map(messages, ({ id }) => id));\n    pageToken = nextPageToken;\n  } while (!_.isNil(pageToken));\n\n  return result;\n};\n\n\n","import localforage from 'localforage';\nimport {Set} from 'immutable';\nimport _ from 'lodash';\nimport dayjs from 'dayjs';\n\nexport const filterNewIds = async (ids) => {\n  const knownKeys = Set(await localforage.keys());\n  return _.filter(ids, (e) => !knownKeys.has(e));\n};\n\nconst sanitizeSubject = (subject) => {\n  return subject.replace(/^(jetprofile-prod RT error: )/, '');\n};\n\nexport const allSavedIds = () => {\n  return localforage.keys();\n};\n\nexport const saveMessages = async (messages) => {\n  const promises = messages.map(({ id, payload: { headers } }) => {\n    const { value: date } = _.find(headers, ({ name }) => name.toLowerCase() === 'date');\n    const { value: subject } = _.find(headers, ({ name }) => name.toLowerCase() === 'subject');\n\n    return localforage.setItem(id, { date, subject: sanitizeSubject(subject) });\n  });\n  await Promise.all(promises);\n};\n\nexport const getAggregatedMessages = async (ids) => {\n  const messages = await Promise.all(ids.map(async (id) => {\n    const { date, ...rest } = await localforage.getItem(id);\n    return {\n      ...rest,\n      id,\n      date,\n      timestamp: dayjs(date).unix(),\n      actions: {\n        open: `https://mail.google.com/mail/u/0/#inbox/${id}`,\n      },\n    };\n  }));\n  const result = _.values(_.groupBy(messages, ({ subject }) => {\n    return subject.slice(0, 20);\n  })).map((entries) => {\n    entries.forEach((e) => {\n      e.timestamp = dayjs(e.date).unix();\n    });\n    const last = _.maxBy(entries, 'timestamp');\n    const { id: lastId } = last;\n    return {\n      ...last,\n      number: entries.length,\n      others: _.reverse(_.sortBy(_.remove(entries, ({ id }) => id !== lastId), 'timestamp')),\n    };\n  });\n  return _.reverse(_.sortBy(result, 'timestamp'));\n};","import React, {useState} from 'react';\nimport styles from './Dashboard.module.css';\nimport {connect} from 'react-redux';\nimport * as authActions from '../actions/authActions';\nimport * as mailActions from '../actions/mailActions';\nimport {useGoogleAuth} from '../common/google-auth';\nimport Header from '../components/Header';\nimport LoadingBanner from '../components/LoadingBanner';\nimport LoginBanner from '../components/LoginBanner';\nimport ErrorsTable from '../components/ErrorsTable';\nimport {getMessages, listAllIds, useGoogleMail} from '../common/google-mail';\nimport {useAsyncEffect} from '../common/common';\nimport * as progressActions from '../actions/progressActions';\nimport {allSavedIds, filterNewIds, getAggregatedMessages, saveMessages} from '../common/core';\nimport _ from 'lodash';\n\nconst clientId = '797091362316-t4kt893ttu0ls2gdbjhbq7pn7g2r22tq.apps.googleusercontent.com';\nconst scope = 'https://www.googleapis.com/auth/gmail.readonly';\nconst apiKey = 'AIzaSyD-QsOK6xDB1oECO1uEX-PCzi-FeauYGSo';\nconst hostedDomain = 'jetbrains.com';\n\nconst localhostRun = window.location.host.includes('localhost');\n\nconst Dashboard = (\n  {\n    initialized,\n    auth: { isSignedIn, signIn, signOut, profile: { name, imageUrl }, error: authError },\n    mail: { client, error: mailError },\n    progress: { current, max, message },\n    onAuthInit,\n    onAuthInitError,\n    onSignedIn,\n    onSignedOut,\n    onMailInit,\n    onMailInitError,\n    activateProgress,\n    deactivateProgress,\n  },\n) => {\n  const [ messages, setMessages ] = useState([]);\n  useGoogleAuth({\n    clientId,\n    hostedDomain,\n    scope,\n    onSignedIn,\n    onSignedOut,\n    onInitialized: onAuthInit,\n    onInitializationError: onAuthInitError,\n  });\n  useGoogleMail({\n    apiKey,\n    onInitialized: onMailInit,\n    onInitializationError: onMailInitError,\n  });\n  // const count = useRef(0);\n  useAsyncEffect(async () => {\n    if (client !== undefined && isSignedIn) {\n      activateProgress({ message: `Loading emails...` });\n      const ids = await (localhostRun ? allSavedIds() : listAllIds(client));\n      // const {result: res} = await client.gmail.users.messages.get({\n      //   id: _.first(ids),\n      //   userId: 'me',\n      //   format: 'metadata'\n      // });\n      // console.log(JSON.stringify(res, null, '  '));\n      activateProgress({ message: `Found ${ids.length} emails in LFS mail list` });\n      const newIds = await filterNewIds(ids);\n      console.log(`New emails: ${newIds.length}`);\n      activateProgress({ message: `Fetching ${newIds.length} new emails` });\n      const result = await getMessages(client, newIds);\n      await saveMessages(result);\n      console.log(`Done saving`);\n      activateProgress({ message: `Processing messages` });\n      setMessages(await getAggregatedMessages(ids));\n      console.log(`Done processing`);\n      deactivateProgress();\n    }\n  }, [ client, isSignedIn ]);\n\n  return (\n    <>\n      <Header\n        name={name}\n        imageUrl={imageUrl}\n        isSignedIn={isSignedIn}\n        signOut={signOut}\n      />\n      <main className={styles.mainContainer}>\n        {!initialized ?\n          <LoadingBanner current={current}\n                         max={max}\n                         message={message}\n                         errors={_.compact([ authError, mailError ])}\n          /> :\n          (!isSignedIn ?\n              <LoginBanner onSignInClicked={signIn} disabled={!initialized}/> :\n              <ErrorsTable messages={messages}/>\n          )}\n      </main>\n    </>\n  );\n};\n\nconst mapStateToProps = (\n  {\n    auth: { initialized: authInitialized, isSignedIn, signIn, signOut, profile, error: authError },\n    mail: { initialized: mailInitialized, client, error: mailError },\n    progress: { active, current, max, message },\n  },\n) => {\n  const initialized = authInitialized\n    && mailInitialized\n    && !active\n    && _.isNil(authError)\n    && _.isNil(mailError);\n  return {\n    initialized,\n    auth: { isSignedIn, signIn, signOut, profile, error: authError },\n    mail: { client, error: mailError },\n    progress: { active, current, max, message },\n  };\n};\n\nconst mapDispatchToProps = {\n  onAuthInit: authActions.init,\n  onAuthInitError: authActions.initError,\n  onSignedIn: authActions.signIn,\n  onSignedOut: authActions.signOut,\n  onMailInit: mailActions.init,\n  onMailInitError: mailActions.initError,\n  activateProgress: progressActions.activateProgress,\n  incrementProgress: progressActions.incrementProgress,\n  deactivateProgress: progressActions.deactivateProgress,\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Dashboard);\n\n","import {AUTH_INIT, AUTH_INIT_ERROR, AUTH_SIGN_IN, AUTH_SIGN_OUT} from './actionTypes';\n\nexport const init = ({ signIn, signOut }) => ({\n  type: AUTH_INIT,\n  signIn,\n  signOut,\n});\n\nexport const initError = (error) => ({\n  type: AUTH_INIT_ERROR,\n  error,\n});\n\nexport const signIn = ({ profile, tokens }) => ({\n  type: AUTH_SIGN_IN,\n  profile,\n  tokens,\n});\n\nexport const signOut = () => ({\n  type: AUTH_SIGN_OUT,\n});\n\n","import {MAIL_INIT, MAIL_INIT_ERROR} from './actionTypes';\n\nexport const init = (client) => ({\n  type: MAIL_INIT, client,\n});\n\nexport const initError = (error) => ({\n  type: MAIL_INIT_ERROR,\n  error,\n});","import {PROGRESS_ACTIVATE, PROGRESS_DEACTIVATE, PROGRESS_INCREMENT} from './actionTypes';\n\nexport const activateProgress = ({ message, current, max }) => ({\n  type: PROGRESS_ACTIVATE,\n  message,\n  current,\n  max,\n});\n\nexport const incrementProgress = () => ({\n  type: PROGRESS_INCREMENT,\n});\n\nexport const deactivateProgress = () => ({\n  type: PROGRESS_DEACTIVATE,\n});","import React from 'react';\n\nimport 'antd/dist/antd.css';\nimport {Provider} from 'react-redux';\nimport {createStore} from 'redux';\nimport rootReducer from '../reducers';\nimport Dashboard from './Dashboard';\nimport {composeWithDevTools} from 'redux-devtools-extension';\nimport {Helmet} from 'react-helmet/es/Helmet';\nimport dayjs from 'dayjs';\nimport relativeTime from 'dayjs/plugin/relativeTime';\n\nconst store = createStore(rootReducer, composeWithDevTools());\n\ndayjs.extend(relativeTime);\n\nfunction App() {\n  return (\n    <>\n      <Helmet>\n        <title>LFS errors dashboard</title>\n      </Helmet>\n      <Provider store={store}>\n        <Dashboard/>\n      </Provider>\n    </>\n  );\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n  // [::1] is the IPv6 localhost address.\n  window.location.hostname === '[::1]' ||\n  // 127.0.0.0/8 are considered localhost for IPv4.\n  window.location.hostname.match(\n    /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/,\n  ),\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n            'worker. To learn more, visit https://bit.ly/CRA-PWA',\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                'tabs for this page are closed. See https://bit.ly/CRA-PWA.',\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.',\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './containers/App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(<App/>, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"Header_header__3mObx\",\"logoContainer\":\"Header_logoContainer__39AYI\",\"logo\":\"Header_logo__2ins2\",\"titleContainer\":\"Header_titleContainer__2q2gU\",\"logoTitle\":\"Header_logoTitle__3xLCf\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"SignInSignOutBlock_container__2c2bM\",\"userNameSpan\":\"SignInSignOutBlock_userNameSpan__3Fm_h\",\"avatarContainer\":\"SignInSignOutBlock_avatarContainer__11L6Q\",\"nameAndButtonContainer\":\"SignInSignOutBlock_nameAndButtonContainer__pxRSB\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"LoadingBanner_container__BeMk5\",\"message\":\"LoadingBanner_message__2DQ7T\",\"errorAlert\":\"LoadingBanner_errorAlert__3JNs6\"};"],"sourceRoot":""}