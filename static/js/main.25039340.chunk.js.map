{"version":3,"sources":["containers/Dashboard.module.css","images/lfs_logo.png","components/LoginBanner.module.css","reducers/authReducer.js","reducers/mailReducer.js","reducers/progressReducer.js","reducers/index.js","actions/actionTypes.js","common/common.js","common/google-auth.js","components/SignStatusBlock.jsx","components/Header.js","config.js","components/LoadingBanner.jsx","components/LoginBanner.jsx","components/ErrorsTable.jsx","common/google-mail.js","common/core.js","containers/Dashboard.jsx","actions/authActions.js","actions/mailActions.js","actions/progressActions.js","containers/App.jsx","serviceWorker.js","index.js","components/Header.module.css","components/SignInSignOutBlock.module.css","components/LoadingBanner.module.css"],"names":["module","exports","throwNotInitialized","Error","initialState","initialized","isSignedIn","profile","tokens","error","undefined","signIn","signOut","client","active","max","current","message","rootReducer","combineReducers","auth","state","action","type","mail","progress","awaitWindowLoad","selectorFunc","onReady","timer","setInterval","result","clearInterval","getAuthData","auth2","user","currentUser","get","basicProfile","getBasicProfile","authResponse","getAuthResponse","googleId","getId","imageUrl","getImageUrl","email","getEmail","name","getName","givenName","getGivenName","familyName","getFamilyName","idToken","id_token","accessToken","access_token","useGoogleAuth","clientId","hostedDomain","scope","onInitialized","onInitializationError","onSignedIn","onSignedOut","useEffect","onInit","onError","clientConfig","client_id","cookie_policy","hosted_domain","fetch_basic_profile","ux_mode","window","gapi","load","init","then","initGoogleAuthLib","listen","_","noop","err","console","disconnect","authData","SignStatusBlock","disabled","userPickLink","onSignOutClicked","className","styles","container","avatarContainer","size","icon","src","nameAndButtonContainer","userNameSpan","href","onClick","e","preventDefault","Header","header","span","offset","logoContainer","LfsLogo","width","alt","logo","titleContainer","logoTitle","target","dayjs","fromNow","LoadingBanner","errors","havePercent","percent","parseInt","status","map","errorAlert","LoginBanner","onSignInClicked","extend","relativeTime","columns","title","dataIndex","key","render","date","d","format","placement","subject","slice","ErrorsTable","messages","rowKey","dataSource","pagination","useGoogleMail","apiKey","params","discoveryDocs","initGmailLib","getMessages","ids","a","isEmpty","batch","newBatch","forEach","id","add","request","path","metadataHeaders","Promise","resolve","reject","response","values","listAllIds","pageToken","after","subtract","mailList","gmail","users","list","userId","q","nextPageToken","concat","isNil","filterNewIds","Set","localforage","keys","knownKeys","filter","has","sanitizeSubject","replace","saveMessages","promises","headers","payload","find","toLowerCase","value","setItem","all","getAggregatedMessages","getItem","groupBy","entries","timestamp","unix","last","maxBy","number","length","reverse","sortBy","localhostRun","location","host","includes","mapDispatchToProps","onAuthInit","onAuthInitError","onMailInit","onMailInitError","activateProgress","incrementProgress","deactivateProgress","connect","authInitialized","authError","mailInitialized","mailError","func","deps","useState","setMessages","newIds","log","doAsync","mainContainer","compact","store","createStore","composeWithDevTools","App","Helmet","Boolean","hostname","match","ReactDOM","document","getElementById","navigator","serviceWorker","ready","registration","unregister","catch"],"mappings":"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","file":"static/js/main.25039340.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"mainContainer\":\"Dashboard_mainContainer__AvxgX\"};","module.exports = __webpack_public_path__ + \"static/media/lfs_logo.aaf7ea0d.png\";","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"LoginBanner_container__kdXDu\"};","import {AUTH_INIT, AUTH_INIT_ERROR, AUTH_SIGN_IN, AUTH_SIGN_OUT} from '../actions/actionTypes';\n\nconst throwNotInitialized = () => {\n  throw Error('gauth is not initialized yet');\n};\n\nconst initialState = {\n  initialized: false,\n  isSignedIn: false,\n  profile: {},\n  tokens: {},\n  error: undefined,\n  signIn: throwNotInitialized,\n  signOut: throwNotInitialized,\n};\n\n\nexport const authReducer = (state = initialState, action) => {\n  const { signIn, signOut, error, profile, tokens } = action;\n  switch (action.type) {\n    case AUTH_INIT:\n      return { ...state, initialized: true, signIn, signOut };\n    case AUTH_INIT_ERROR:\n      return { ...initialState, error };\n    case AUTH_SIGN_IN:\n      return { ...state, isSignedIn: true, profile, tokens };\n    case AUTH_SIGN_OUT:\n      return { ...state, isSignedIn: false, profile: {}, tokens: {} };\n    default:\n      return state;\n  }\n};","import {MAIL_INIT, MAIL_INIT_ERROR} from '../actions/actionTypes';\n\nconst initialState = {\n  initialized: false,\n  client: undefined,\n  error: undefined,\n};\n\nexport const mailReducer = (state = initialState, action) => {\n  const { client, error } = action;\n  switch (action.type) {\n    case MAIL_INIT:\n      return { ...state, client, initialized: true };\n    case MAIL_INIT_ERROR:\n      return { ...initialState, error };\n    default:\n      return state;\n  }\n};","import {PROGRESS_ACTIVATE, PROGRESS_DEACTIVATE, PROGRESS_INCREMENT} from '../actions/actionTypes';\n\nconst initialState = {\n  active: false,\n  max: undefined,\n  current: undefined,\n  message: 'Loading...',\n};\n\n\nexport const progressReducer = (state = initialState, action) => {\n  const { type, message, max, current } = action;\n  switch (type) {\n    case PROGRESS_ACTIVATE:\n      return { ...state, active: true, max, current, message };\n    case PROGRESS_INCREMENT:\n      return { ...state, current: state.current + 1 };\n    case PROGRESS_DEACTIVATE:\n      return { ...state, active: false };\n    default:\n      return state;\n  }\n};\n","import {combineReducers} from 'redux';\nimport {authReducer} from './authReducer';\nimport {mailReducer} from './mailReducer';\nimport {progressReducer} from './progressReducer';\n\nconst rootReducer = combineReducers({\n  auth: authReducer,\n  mail: mailReducer,\n  progress: progressReducer,\n});\n\nexport default rootReducer;","export const AUTH_INIT = 'AUTH_INIT';\nexport const AUTH_INIT_ERROR = 'AUTH_INIT_ERROR';\nexport const AUTH_SIGN_IN = 'AUTH_SIGN_IN';\nexport const AUTH_SIGN_OUT = 'AUTH_SIGN_OUT';\n\nexport const MAIL_INIT = 'MAIL_INIT';\nexport const MAIL_INIT_ERROR = 'MAIL_INIT_ERROR';\n\nexport const PROGRESS_ACTIVATE = 'PROGRESS_ACTIVATE';\nexport const PROGRESS_INCREMENT = 'PROGRESS_INCREMENT';\nexport const PROGRESS_DEACTIVATE = 'PROGRESS_DEACTIVATE';","import {useEffect} from 'react';\n\nexport const awaitWindowLoad = (selectorFunc, onReady) => {\n  const timer = setInterval(\n    () => {\n      const result = selectorFunc();\n      if (result) {\n        clearInterval(timer);\n        onReady(result);\n      }\n    },\n    100);\n};\n\nexport const useAsyncEffect = (func, deps) => {\n  useEffect(() => {\n    const doAsync = async () => {\n      await func();\n    };\n    doAsync();\n  }, deps);\n};","import {useEffect} from 'react';\nimport _ from 'lodash';\nimport {awaitWindowLoad} from './common';\n\nconst initGoogleAuthLib = ({ clientId, hostedDomain, scope, onInit, onError }) => {\n  const clientConfig = {\n    client_id: clientId,\n    cookie_policy: 'single_host_origin',\n    hosted_domain: hostedDomain,\n    fetch_basic_profile: true,\n    ux_mode: 'popup',\n    scope,\n  };\n  awaitWindowLoad(() => window.gapi, (gapi) => {\n    gapi.load(\n      'auth2',\n      () => gapi.auth2.init(clientConfig).then(onInit, onError),\n      onError,\n    );\n  });\n};\n\n\nconst getAuthData = (auth2) => {\n  const user = auth2.currentUser.get();\n  if (user === undefined) return {\n    isSignedIn: false,\n    profile: {},\n    tokens: {},\n  };\n  const basicProfile = user.getBasicProfile();\n  const authResponse = user.getAuthResponse();\n  const isSignedIn = user.isSignedIn();\n  const profile = basicProfile === undefined ? {} : {\n    googleId: basicProfile.getId(),\n    imageUrl: basicProfile.getImageUrl(),\n    email: basicProfile.getEmail(),\n    name: basicProfile.getName(),\n    givenName: basicProfile.getGivenName(),\n    familyName: basicProfile.getFamilyName(),\n  };\n  const tokens = authResponse === undefined ? {} : {\n    idToken: authResponse.id_token,\n    accessToken: authResponse.access_token,\n  };\n  return {\n    isSignedIn,\n    profile,\n    tokens,\n  };\n};\n\nexport const useGoogleAuth = (\n  {\n    clientId,\n    hostedDomain,\n    scope,\n    onInitialized,\n    onInitializationError,\n    onSignedIn,\n    onSignedOut,\n  }) => {\n  useEffect(() => {\n    const onInit = (auth2) => {\n      auth2.isSignedIn.listen((isSignedIn) => {\n        isSignedIn ? onSignedIn(getAuthData(auth2)) : onSignedOut();\n      });\n      const signIn = () => auth2.signIn().then(_.noop, err => console.error(`Got error:`, err));\n      const signOut = () => auth2.signOut().then(auth2.disconnect());\n      onInitialized({ signIn, signOut });\n      const authData = getAuthData(auth2);\n      const { isSignedIn } = authData;\n      if (isSignedIn) onSignedIn(authData);\n    };\n    const onError = (error) => {\n      onInitializationError(error);\n    };\n    initGoogleAuthLib({ clientId, hostedDomain, scope, onInit, onError });\n  }, []);\n};\n\n","import React from 'react';\nimport styles from './SignInSignOutBlock.module.css';\nimport {Avatar} from 'antd';\n\nconst SignStatusBlock = ({ disabled, name, userPickLink, onSignOutClicked }) => {\n  return (\n    <div className={styles.container}>\n      <div className={styles.avatarContainer}>\n        <Avatar size={48} icon='user' src={userPickLink}/>\n      </div>\n      <div className={styles.nameAndButtonContainer}>\n        <div className={styles.userNameSpan}>{name}</div>\n        {disabled ? <span>Sign out</span> :\n          <a href=''\n             onClick={(e) => {\n               e.preventDefault();\n               onSignOutClicked();\n             }}>\n            Sign out\n          </a>\n        }\n      </div>\n    </div>\n  );\n};\n\nexport default SignStatusBlock;","import React from 'react';\nimport styles from './Header.module.css';\nimport {Col, Row} from 'antd';\nimport LfsLogo from '../images/lfs_logo.png';\nimport SignStatusBlock from './SignStatusBlock';\nimport {released, releaseLink, version} from '../config';\nimport dayjs from 'dayjs';\n\nconst Header = ({ name, imageUrl, isSignedIn, signOut }) => {\n  return (\n    <header className={styles.header}>\n      <Row>\n        <Col span={12} offset={2}>\n          <div className={styles.logoContainer}>\n            <img src={LfsLogo} width='48px' alt='Logo' className={styles.logo}/>\n            <div className={styles.titleContainer}>\n              <h1 className={styles.logoTitle}>LFS Errors Dashboard</h1>\n              &nbsp;&nbsp;\n              <a href={releaseLink} target='_blank'>{version}</a>&nbsp;released {dayjs(released).fromNow()}\n            </div>\n          </div>\n        </Col>\n        <Col offset={4} span={4}>\n          {isSignedIn && <SignStatusBlock name={name}\n                                          userPickLink={imageUrl}\n                                          onSignOutClicked={signOut}\n          />}\n        </Col>\n      </Row>\n    </header>\n  );\n};\n\nexport default Header;","export const version = 'v0.1.4';\nexport const released = '2020-02-24T11:56:29+03:00';\nexport const releaseLink = 'https://github.com/burkov/lfs-errors-dashboard/releases/tag/v0.1.4';\n","import React from 'react';\nimport {Alert, Progress, Spin} from 'antd';\nimport styles from './LoadingBanner.module.css';\n\nconst LoadingBanner = ({ current, max, message, errors }) => {\n  const havePercent = current !== undefined && max !== undefined;\n  const percent = havePercent && (\n    parseInt(current) * 100 / parseInt(max)\n  );\n  return (\n    <div className={styles.container}>\n      <Spin size='large'/>\n      <p className={styles.message}>{message}</p>\n      {havePercent && <Progress percent={percent} status='active'/>}\n      {errors.map((error) => <Alert message={error} type='error' className={styles.errorAlert}/>)}\n    </div>\n  );\n};\n\nexport default LoadingBanner;","import React from 'react';\nimport styles from './LoginBanner.module.css';\nimport {Button} from 'antd';\n\n\nconst LoginBanner = ({ onSignInClicked, disabled }) => {\n  return (\n    <div className={styles.container}>\n      <p>To start using the app sign in to your <strong>@jetbrains.com</strong> account</p>\n      <Button disabled={disabled} onClick={onSignInClicked}>Sign in</Button>\n    </div>\n  );\n};\n\nexport default LoginBanner;","import React from 'react';\nimport {Table, Tooltip} from 'antd';\nimport dayjs from 'dayjs';\nimport relativeTime from 'dayjs/plugin/relativeTime';\n\ndayjs.extend(relativeTime);\n\nconst columns = [\n  {\n    title: 'Last',\n    dataIndex: 'date',\n    key: 'date',\n    render: (date) => {\n      const d = dayjs(date);\n      return (\n        <Tooltip title={d.format()} placement='bottom'>\n          {d.fromNow()}\n        </Tooltip>\n      );\n    },\n  },\n  {\n    title: '# of similar',\n    dataIndex: 'number',\n    key: 'number',\n  },\n  {\n    title: 'Subject',\n    dataIndex: 'subject',\n    key: 'subject',\n    render: (subject) => <span>{subject.slice(0, 160)}</span>,\n  },\n];\n\nconst ErrorsTable = ({ messages }) => {\n  return (\n    <>\n      <Table\n        rowKey='subject'\n        dataSource={messages}\n        columns={columns}\n        size='small'\n        pagination={false}\n      />\n    </>\n  );\n};\n\n\nexport default ErrorsTable;","import {useEffect} from 'react';\nimport {awaitWindowLoad} from './common';\nimport _ from 'lodash';\nimport dayjs from 'dayjs';\n\nconst initGmailLib = ({ apiKey, onInit, onError }) => {\n  const params = {\n    apiKey: apiKey,\n    discoveryDocs: [ 'https://www.googleapis.com/discovery/v1/apis/gmail/v1/rest' ],\n  };\n  awaitWindowLoad(() => window.gapi, (gapi) => {\n    gapi.load(\n      'client',\n      () => gapi.client.init(params).then(onInit, onError),\n      onError,\n    );\n  });\n};\n\nexport const useGoogleMail = ({ apiKey, onInitialized, onInitializationError }) => {\n  useEffect(() => {\n    initGmailLib({\n      apiKey,\n      onInit: () => {\n        onInitialized(window.gapi.client);\n      },\n      onError: onInitializationError,\n    });\n  }, []);\n};\n\nexport const getMessages = async (client, ids) => {\n  if (_.isEmpty(ids)) return [];\n  const batch = client.newBatch();\n  ids.forEach((id) => {\n    batch.add(client.request({\n      path: `gmail/v1/users/me/messages/${id}`,\n      params: {\n        format: 'metadata',\n        metadataHeaders: [ 'Subject', 'Date' ],\n      },\n    }));\n  });\n  return new Promise((resolve, reject) => {\n    batch.then(\n      (response) => {\n        const { result } = response;\n        resolve(_.map(_.values(result), (e) => _.get(e, 'result')));\n      },\n      (e) => reject(e),\n    );\n  });\n};\n\nexport const listAllIds = async (client) => {\n  let pageToken = undefined;\n  let result = [];\n  const after = dayjs().subtract(30, 'day').format('YYYY/MM/DD');\n  const mailList = '(<jetprofile-prod-lfs-notifications.jetbrains.com>)';\n  do {\n    const { result: { messages, nextPageToken } } = await client.gmail.users.messages.list({\n      userId: 'me',\n      q: `list:${mailList} after:${after}`,\n      pageToken,\n    });\n    result = result.concat(_.map(messages, ({ id }) => id));\n    pageToken = nextPageToken;\n  } while (!_.isNil(pageToken));\n\n  return result;\n};\n\n\n","import localforage from 'localforage';\nimport {Set} from 'immutable';\nimport _ from 'lodash';\nimport dayjs from 'dayjs';\n\nexport const filterNewIds = async (ids) => {\n  const knownKeys = Set(await localforage.keys());\n  return _.filter(ids, (e) => !knownKeys.has(e));\n};\n\nconst sanitizeSubject = (subject) => {\n  return subject.replace(/^(jetprofile-prod RT error: )/, '');\n};\n\nexport const allSavedIds = () => {\n  return localforage.keys();\n};\n\nexport const saveMessages = async (messages) => {\n  const promises = messages.map(({ id, payload: { headers } }) => {\n    const { value: date } = _.find(headers, ({ name }) => name.toLowerCase() === 'date');\n    const { value: subject } = _.find(headers, ({ name }) => name.toLowerCase() === 'subject');\n\n    return localforage.setItem(id, { date, subject: sanitizeSubject(subject) });\n  });\n  await Promise.all(promises);\n};\n\nexport const getAggregatedMessages = async (ids) => {\n  const messages = await Promise.all(ids.map((id) => localforage.getItem(id)));\n  const result = _.values(_.groupBy(messages, ({ subject }) => {\n    return subject.slice(0, 20);\n  })).map((entries) => {\n    entries.forEach((e) => {\n      e.timestamp = dayjs(e.date).unix();\n    });\n    const last = _.maxBy(entries, 'timestamp');\n    return { ...last, number: entries.length };\n  });\n  return _.reverse(_.sortBy(result, 'timestamp'));\n};","import React, {useState} from 'react';\nimport styles from './Dashboard.module.css';\nimport {connect} from 'react-redux';\nimport * as authActions from '../actions/authActions';\nimport * as mailActions from '../actions/mailActions';\nimport {useGoogleAuth} from '../common/google-auth';\nimport Header from '../components/Header';\nimport LoadingBanner from '../components/LoadingBanner';\nimport LoginBanner from '../components/LoginBanner';\nimport ErrorsTable from '../components/ErrorsTable';\nimport {getMessages, listAllIds, useGoogleMail} from '../common/google-mail';\nimport {useAsyncEffect} from '../common/common';\nimport * as progressActions from '../actions/progressActions';\nimport {allSavedIds, filterNewIds, getAggregatedMessages, saveMessages} from '../common/core';\nimport _ from 'lodash';\n\nconst clientId = '797091362316-t4kt893ttu0ls2gdbjhbq7pn7g2r22tq.apps.googleusercontent.com';\nconst scope = 'https://www.googleapis.com/auth/gmail.readonly';\nconst apiKey = 'AIzaSyD-QsOK6xDB1oECO1uEX-PCzi-FeauYGSo';\nconst hostedDomain = 'jetbrains.com';\n\nconst localhostRun = window.location.host.includes('localhost');\n\nconst Dashboard = (\n  {\n    initialized,\n    auth: { isSignedIn, signIn, signOut, profile: { name, imageUrl }, error: authError },\n    mail: { client, error: mailError },\n    progress: { current, max, message },\n    onAuthInit,\n    onAuthInitError,\n    onSignedIn,\n    onSignedOut,\n    onMailInit,\n    onMailInitError,\n    activateProgress,\n    deactivateProgress,\n  },\n) => {\n  const [ messages, setMessages ] = useState([]);\n  useGoogleAuth({\n    clientId,\n    hostedDomain,\n    scope,\n    onSignedIn,\n    onSignedOut,\n    onInitialized: onAuthInit,\n    onInitializationError: onAuthInitError,\n  });\n  useGoogleMail({\n    apiKey,\n    onInitialized: onMailInit,\n    onInitializationError: onMailInitError,\n  });\n  // const count = useRef(0);\n  useAsyncEffect(async () => {\n    if (client !== undefined && isSignedIn) {\n      activateProgress({ message: `Loading emails...` });\n      const ids = await (localhostRun ? allSavedIds() : listAllIds(client));\n      activateProgress({ message: `Found ${ids.length} emails in LFS mail list` });\n      const newIds = await filterNewIds(ids);\n      console.log(`New emails: ${newIds.length}`);\n      activateProgress({ message: `Fetching ${newIds.length} new emails` });\n      const result = await getMessages(client, newIds);\n      await saveMessages(result);\n      console.log(`Done saving`);\n      activateProgress({ message: `Processing messages` });\n      setMessages(await getAggregatedMessages(ids));\n      console.log(`Done processing`);\n      deactivateProgress();\n    }\n  }, [ client, isSignedIn ]);\n\n  return (\n    <>\n      <Header\n        name={name}\n        imageUrl={imageUrl}\n        isSignedIn={isSignedIn}\n        signOut={signOut}\n      />\n      <main className={styles.mainContainer}>\n        {!initialized ?\n          <LoadingBanner current={current}\n                         max={max}\n                         message={message}\n                         errors={_.compact([ authError, mailError ])}\n          /> :\n          (!isSignedIn ?\n              <LoginBanner onSignInClicked={signIn} disabled={!initialized}/> :\n              <ErrorsTable messages={messages}/>\n          )}\n      </main>\n    </>\n  );\n};\n\nconst mapStateToProps = (\n  {\n    auth: { initialized: authInitialized, isSignedIn, signIn, signOut, profile, error: authError },\n    mail: { initialized: mailInitialized, client, error: mailError },\n    progress: { active, current, max, message },\n  },\n) => {\n  const initialized = authInitialized\n    && mailInitialized\n    && !active\n    && _.isNil(authError)\n    && _.isNil(mailError);\n  return {\n    initialized,\n    auth: { isSignedIn, signIn, signOut, profile, error: authError },\n    mail: { client, error: mailError },\n    progress: { active, current, max, message },\n  };\n};\n\nconst mapDispatchToProps = {\n  onAuthInit: authActions.init,\n  onAuthInitError: authActions.initError,\n  onSignedIn: authActions.signIn,\n  onSignedOut: authActions.signOut,\n  onMailInit: mailActions.init,\n  onMailInitError: mailActions.initError,\n  activateProgress: progressActions.activateProgress,\n  incrementProgress: progressActions.incrementProgress,\n  deactivateProgress: progressActions.deactivateProgress,\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Dashboard);\n\n","import {AUTH_INIT, AUTH_INIT_ERROR, AUTH_SIGN_IN, AUTH_SIGN_OUT} from './actionTypes';\n\nexport const init = ({ signIn, signOut }) => ({\n  type: AUTH_INIT,\n  signIn,\n  signOut,\n});\n\nexport const initError = (error) => ({\n  type: AUTH_INIT_ERROR,\n  error,\n});\n\nexport const signIn = ({ profile, tokens }) => ({\n  type: AUTH_SIGN_IN,\n  profile,\n  tokens,\n});\n\nexport const signOut = () => ({\n  type: AUTH_SIGN_OUT,\n});\n\n","import {MAIL_INIT, MAIL_INIT_ERROR} from './actionTypes';\n\nexport const init = (client) => ({\n  type: MAIL_INIT, client,\n});\n\nexport const initError = (error) => ({\n  type: MAIL_INIT_ERROR,\n  error,\n});","import {PROGRESS_ACTIVATE, PROGRESS_DEACTIVATE, PROGRESS_INCREMENT} from './actionTypes';\n\nexport const activateProgress = ({ message, current, max }) => ({\n  type: PROGRESS_ACTIVATE,\n  message,\n  current,\n  max,\n});\n\nexport const incrementProgress = () => ({\n  type: PROGRESS_INCREMENT,\n});\n\nexport const deactivateProgress = () => ({\n  type: PROGRESS_DEACTIVATE,\n});","import React from 'react';\n\nimport 'antd/dist/antd.css';\nimport {Provider} from 'react-redux';\nimport {createStore} from 'redux';\nimport rootReducer from '../reducers';\nimport Dashboard from './Dashboard';\nimport {composeWithDevTools} from 'redux-devtools-extension';\nimport {Helmet} from 'react-helmet/es/Helmet';\n\nconst store = createStore(rootReducer, composeWithDevTools());\n\n\nfunction App() {\n  return (\n    <>\n      <Helmet>\n        <title>LFS errors dashboard</title>\n      </Helmet>\n      <Provider store={store}>\n        <Dashboard/>\n      </Provider>\n    </>\n  );\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n  // [::1] is the IPv6 localhost address.\n  window.location.hostname === '[::1]' ||\n  // 127.0.0.0/8 are considered localhost for IPv4.\n  window.location.hostname.match(\n    /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/,\n  ),\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n            'worker. To learn more, visit https://bit.ly/CRA-PWA',\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                'tabs for this page are closed. See https://bit.ly/CRA-PWA.',\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.',\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './containers/App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(<App/>, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"Header_header__3mObx\",\"logoContainer\":\"Header_logoContainer__39AYI\",\"logo\":\"Header_logo__2ins2\",\"titleContainer\":\"Header_titleContainer__2q2gU\",\"logoTitle\":\"Header_logoTitle__3xLCf\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"SignInSignOutBlock_container__2c2bM\",\"userNameSpan\":\"SignInSignOutBlock_userNameSpan__3Fm_h\",\"avatarContainer\":\"SignInSignOutBlock_avatarContainer__11L6Q\",\"nameAndButtonContainer\":\"SignInSignOutBlock_nameAndButtonContainer__pxRSB\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"LoadingBanner_container__BeMk5\",\"message\":\"LoadingBanner_message__2DQ7T\",\"errorAlert\":\"LoadingBanner_errorAlert__3JNs6\"};"],"sourceRoot":""}