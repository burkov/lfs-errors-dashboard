{"version":3,"sources":["components/LoadingBanner.module.css","containers/Dashboard.module.css","images/lfs_logo.png","components/LoginBanner.module.css","reducers/authReducer.js","reducers/mailReducer.js","reducers/progressReducer.js","reducers/index.js","actions/actionTypes.js","common/common.js","common/google-auth.js","components/SignStatusBlock.jsx","components/Header.js","components/LoadingBanner.jsx","components/LoginBanner.jsx","components/ErrorsTable.jsx","common/google-mail.js","common/core.js","containers/Dashboard.jsx","actions/authActions.js","actions/mailActions.js","actions/progressActions.js","containers/App.jsx","serviceWorker.js","index.js","components/Header.module.css","components/SignInSignOutBlock.module.css"],"names":["module","exports","throwNotInitialized","Error","initialState","initialized","isSignedIn","profile","tokens","error","undefined","signIn","signOut","client","active","max","current","message","rootReducer","combineReducers","auth","state","action","type","mail","progress","awaitWindowLoad","selectorFunc","onReady","timer","setInterval","result","clearInterval","getAuthData","auth2","user","currentUser","get","basicProfile","getBasicProfile","authResponse","getAuthResponse","googleId","getId","imageUrl","getImageUrl","email","getEmail","name","getName","givenName","getGivenName","familyName","getFamilyName","idToken","id_token","accessToken","access_token","useGoogleAuth","clientId","hostedDomain","scope","onInitialized","onInitializationError","onSignedIn","onSignedOut","useEffect","onInit","onError","clientConfig","client_id","cookie_policy","hosted_domain","fetch_basic_profile","ux_mode","window","gapi","load","init","then","initGoogleAuthLib","listen","_","noop","err","console","disconnect","authData","SignStatusBlock","disabled","userPickLink","onSignOutClicked","className","styles","container","avatarContainer","size","icon","src","nameAndButtonContainer","userNameSpan","href","onClick","e","preventDefault","Header","header","span","offset","logoContainer","LfsLogo","width","alt","logo","logoTitle","LoadingBanner","havePercent","percent","parseInt","status","LoginBanner","onSignInClicked","dayjs","extend","relativeTime","columns","title","dataIndex","key","render","date","d","format","placement","fromNow","subject","slice","ErrorsTable","messages","rowKey","dataSource","pagination","position","pageSize","useGoogleMail","apiKey","params","discoveryDocs","initGmailLib","getMessages","ids","a","isEmpty","batch","newBatch","forEach","id","add","request","path","metadataHeaders","Promise","resolve","reject","response","map","values","listAllIds","pageToken","gmail","users","list","userId","q","nextPageToken","concat","isNil","filterNewIds","Set","localforage","keys","knownKeys","filter","has","sanitizeSubject","replace","saveMessages","promises","headers","payload","find","toLowerCase","value","setItem","all","getAggregatedMessages","getItem","groupBy","entries","timestamp","unix","last","maxBy","number","length","reverse","sortBy","mapDispatchToProps","onAuthInit","onAuthInitError","onMailInit","onMailInitError","activateProgress","incrementProgress","deactivateProgress","connect","authInitialized","mailInitialized","func","deps","useState","setMessages","newIds","log","doAsync","mainContainer","store","createStore","composeWithDevTools","App","Helmet","Boolean","location","hostname","match","ReactDOM","document","getElementById","navigator","serviceWorker","ready","registration","unregister","catch"],"mappings":"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","file":"static/js/main.c8d447c1.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"LoadingBanner_container__BeMk5\",\"message\":\"LoadingBanner_message__2DQ7T\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"mainContainer\":\"Dashboard_mainContainer__AvxgX\"};","module.exports = __webpack_public_path__ + \"static/media/lfs_logo.aaf7ea0d.png\";","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"LoginBanner_container__kdXDu\"};","import { AUTH_INIT, AUTH_INIT_ERROR, AUTH_SIGN_IN, AUTH_SIGN_OUT } from '../actions/actionTypes';\n\nconst throwNotInitialized = () => {\n  throw Error('gauth is not initialized yet');\n};\n\nconst initialState = {\n  initialized: false,\n  isSignedIn: false,\n  profile: {},\n  tokens: {},\n  error: undefined,\n  signIn: throwNotInitialized,\n  signOut: throwNotInitialized,\n};\n\n\nexport const authReducer = (state = initialState, action) => {\n  const { signIn, signOut, error, profile, tokens } = action;\n  switch (action.type) {\n    case AUTH_INIT:\n      return { ...state, initialized: true, signIn, signOut };\n    case AUTH_INIT_ERROR:\n      return { ...initialState, error };\n    case AUTH_SIGN_IN:\n      return { ...state, isSignedIn: true, profile, tokens };\n    case AUTH_SIGN_OUT:\n      return { ...state, isSignedIn: false, profile: {}, tokens: {} };\n    default:\n      return state;\n  }\n};","import { MAIL_INIT, MAIL_INIT_ERROR, MAIL_PROGRESS_UPDATE } from '../actions/actionTypes';\n\nconst initialState = {\n  initialized: false,\n  client: undefined,\n  error: undefined,\n};\n\nexport const mailReducer = (state = initialState, action) => {\n  const { client, error} = action;\n  switch (action.type) {\n    case MAIL_INIT:\n      return { ...state, client, initialized: true };\n    case MAIL_INIT_ERROR:\n      return { ...initialState, error };\n    default:\n      return state;\n  }\n};","import {PROGRESS_DEACTIVATE, PROGRESS_INCREMENT, PROGRESS_ACTIVATE} from '../actions/actionTypes';\n\nconst initialState = {\n  active: false,\n  max: undefined,\n  current: undefined,\n  message: 'Loading...',\n};\n\n\nexport const progressReducer = (state = initialState, action) => {\n  const { type, message, max, current } = action;\n  switch (type) {\n    case PROGRESS_ACTIVATE:\n      return { ...state, active: true, max, current, message };\n    case PROGRESS_INCREMENT:\n      return { ...state, current: state.current + 1 };\n    case PROGRESS_DEACTIVATE:\n      return { ...state, active: false };\n    default:\n      return state;\n  }\n};\n","import { combineReducers } from 'redux';\nimport { authReducer } from './authReducer';\nimport { mailReducer } from './mailReducer';\nimport { progressReducer } from './progressReducer';\n\nconst rootReducer = combineReducers({\n  auth: authReducer,\n  mail: mailReducer,\n  progress: progressReducer,\n});\n\nexport default rootReducer;","export const AUTH_INIT = 'AUTH_INIT';\nexport const AUTH_INIT_ERROR = 'AUTH_INIT_ERROR';\nexport const AUTH_SIGN_IN = 'AUTH_SIGN_IN';\nexport const AUTH_SIGN_OUT = 'AUTH_SIGN_OUT';\n\nexport const MAIL_INIT = 'MAIL_INIT';\nexport const MAIL_INIT_ERROR = 'MAIL_INIT_ERROR';\n\nexport const PROGRESS_ACTIVATE = 'PROGRESS_ACTIVATE';\nexport const PROGRESS_INCREMENT = 'PROGRESS_INCREMENT';\nexport const PROGRESS_DEACTIVATE = 'PROGRESS_DEACTIVATE';","import { useEffect } from 'react';\n\nexport const awaitWindowLoad = (selectorFunc, onReady) => {\n  const timer = setInterval(\n    () => {\n      const result = selectorFunc();\n      if (result) {\n        clearInterval(timer);\n        onReady(result);\n      }\n    },\n    100);\n};\n\nexport const useAsyncEffect = (func, deps) => {\n  useEffect(() => {\n    const doAsync = async () => {\n      await func()\n    };\n    doAsync();\n  }, deps);\n};","import { useEffect } from 'react';\nimport _ from 'lodash';\nimport { awaitWindowLoad } from './common';\n\nconst initGoogleAuthLib = ({ clientId, hostedDomain, scope, onInit, onError }) => {\n  const clientConfig = {\n    client_id: clientId,\n    cookie_policy: 'single_host_origin',\n    hosted_domain: hostedDomain,\n    fetch_basic_profile: true,\n    ux_mode: 'popup',\n    scope,\n  };\n  awaitWindowLoad(() => window.gapi, (gapi) => {\n    gapi.load(\n      'auth2',\n      () => gapi.auth2.init(clientConfig).then(onInit, onError),\n      onError,\n    );\n  });\n};\n\n\nconst getAuthData = (auth2) => {\n  const user = auth2.currentUser.get();\n  if (user === undefined) return {\n    isSignedIn: false,\n    profile: {},\n    tokens: {},\n  };\n  const basicProfile = user.getBasicProfile();\n  const authResponse = user.getAuthResponse();\n  const isSignedIn = user.isSignedIn();\n  const profile = basicProfile === undefined ? {} : {\n    googleId: basicProfile.getId(),\n    imageUrl: basicProfile.getImageUrl(),\n    email: basicProfile.getEmail(),\n    name: basicProfile.getName(),\n    givenName: basicProfile.getGivenName(),\n    familyName: basicProfile.getFamilyName(),\n  };\n  const tokens = authResponse === undefined ? {} : {\n    idToken: authResponse.id_token,\n    accessToken: authResponse.access_token,\n  };\n  return {\n    isSignedIn,\n    profile,\n    tokens,\n  };\n};\n\nexport const useGoogleAuth = (\n  {\n    clientId,\n    hostedDomain,\n    scope,\n    onInitialized,\n    onInitializationError,\n    onSignedIn,\n    onSignedOut,\n  }) => {\n  useEffect(() => {\n    const onInit = (auth2) => {\n      auth2.isSignedIn.listen((isSignedIn) => {\n        isSignedIn ? onSignedIn(getAuthData(auth2)) : onSignedOut();\n      });\n      const signIn = () => auth2.signIn().then(_.noop, err => console.error(`Got error:`, err));\n      const signOut = () => auth2.signOut().then(auth2.disconnect());\n      onInitialized({ signIn, signOut });\n      const authData = getAuthData(auth2);\n      const { isSignedIn } = authData;\n      if (isSignedIn) onSignedIn(authData);\n    };\n    const onError = (error) => {\n      onInitializationError(error);\n    };\n    initGoogleAuthLib({ clientId, hostedDomain, scope, onInit, onError });\n  }, []);\n};\n\n","import React from 'react';\nimport styles from './SignInSignOutBlock.module.css';\nimport { Avatar } from 'antd';\n\nconst SignStatusBlock = ({ disabled, name, userPickLink, onSignOutClicked }) => {\n  return (\n    <div className={styles.container}>\n      <div className={styles.avatarContainer}>\n        <Avatar size={48} icon='user' src={userPickLink}/>\n      </div>\n      <div className={styles.nameAndButtonContainer}>\n        <div className={styles.userNameSpan}>{name}</div>\n        {disabled ? <span>Sign out</span> :\n          <a href=''\n             onClick={(e) => {\n               e.preventDefault();\n               onSignOutClicked();\n             }}>\n            Sign out\n          </a>\n        }\n      </div>\n    </div>\n  );\n};\n\nexport default SignStatusBlock;","import React from 'react';\nimport styles from './Header.module.css';\nimport { Col, Row } from 'antd';\nimport LfsLogo from '../images/lfs_logo.png';\nimport SignStatusBlock from './SignStatusBlock';\n\n\nconst Header = ({ name, imageUrl, isSignedIn, signOut }) => {\n  return (\n    <header className={styles.header}>\n      <Row>\n        <Col span={6} offset={2}>\n          <div className={styles.logoContainer}>\n            <img src={LfsLogo} width='48px' alt='Logo' className={styles.logo}/>\n            <h1 className={styles.logoTitle}>LFS Errors Dashboard</h1>\n          </div>\n        </Col>\n        <Col offset={10} span={4}>\n          {isSignedIn && <SignStatusBlock name={name}\n                                          userPickLink={imageUrl}\n                                          onSignOutClicked={signOut}\n          />}\n        </Col>\n      </Row>\n    </header>\n  );\n};\n\nexport default Header;","import React from 'react';\nimport {Progress, Spin} from 'antd';\nimport styles from './LoadingBanner.module.css';\n\n\nconst LoadingBanner = ({ current, max, message }) => {\n  const havePercent = current !== undefined && max !== undefined;\n  const percent = havePercent && (\n    parseInt(current) * 100 / parseInt(max)\n  );\n  return (\n    <div className={styles.container}>\n      <Spin size='large'/>\n      <p className={styles.message}>{message}</p>\n      {havePercent && <Progress percent={percent} status='active'/>}\n    </div>\n  );\n};\n\nexport default LoadingBanner;","import React from 'react';\nimport styles from './LoginBanner.module.css';\nimport { Button } from 'antd';\n\n\nconst LoginBanner = ({onSignInClicked, disabled}) => {\n  return (\n    <div className={styles.container}>\n      <p>To start using the app sign in to your <strong>@jetbrains.com</strong> account</p>\n      <Button disabled={disabled} onClick={onSignInClicked}>Sign in</Button>\n    </div>\n  );\n};\n\nexport default LoginBanner;","import React from 'react';\nimport {Table, Tooltip} from 'antd';\nimport dayjs from 'dayjs';\nimport relativeTime from 'dayjs/plugin/relativeTime';\n\ndayjs.extend(relativeTime);\n\nconst columns = [\n  {\n    title: 'Last',\n    dataIndex: 'date',\n    key: 'date',\n    render: (date) => {\n      const d = dayjs(date);\n      return (\n        <Tooltip title={d.format()} placement='bottom'>\n          {d.fromNow()}\n        </Tooltip>\n      );\n    },\n  },\n  {\n    title: '# of similar',\n    dataIndex: 'number',\n    key: 'number',\n  },\n  {\n    title: 'Subject',\n    dataIndex: 'subject',\n    key: 'subject',\n    render: (subject) => <span>{subject.slice(0, 160)}</span>,\n  },\n];\n\nconst ErrorsTable = ({ messages }) => {\n  return (\n    <>\n      <Table\n        rowKey='subject'\n        dataSource={messages}\n        columns={columns}\n        size='small'\n        pagination={{\n          position: 'top',\n          pageSize: 50,\n        }}\n      />\n    </>\n  );\n};\n\n\nexport default ErrorsTable;","import {useEffect} from 'react';\nimport {awaitWindowLoad} from './common';\nimport _ from 'lodash';\n\nconst initGmailLib = ({ apiKey, onInit, onError }) => {\n  const params = {\n    apiKey: apiKey,\n    discoveryDocs: [ 'https://www.googleapis.com/discovery/v1/apis/gmail/v1/rest' ],\n  };\n  awaitWindowLoad(() => window.gapi, (gapi) => {\n    gapi.load(\n      'client',\n      () => gapi.client.init(params).then(onInit, onError),\n      onError,\n    );\n  });\n};\n\nexport const useGoogleMail = ({ apiKey, onInitialized, onInitializationError }) => {\n  useEffect(() => {\n    initGmailLib({\n      apiKey,\n      onInit: () => {\n        onInitialized(window.gapi.client);\n      },\n      onError: onInitializationError,\n    });\n  }, []);\n};\n\nexport const getMessages = async (client, ids) => {\n  if (_.isEmpty(ids)) return [];\n  const batch = client.newBatch();\n  ids.forEach((id) => {\n    batch.add(client.request({\n      path: `gmail/v1/users/me/messages/${id}`,\n      params: {\n        format: 'metadata',\n        metadataHeaders: ['Subject', 'Date', ]\n      },\n    }));\n  });\n  return new Promise((resolve, reject) => {\n    batch.then(\n      (response) => {\n        const { result } = response;\n        resolve(_.map(_.values(result), (e) => _.get(e, 'result')));\n      },\n      (e) => reject(e),\n    );\n  });\n};\n\nexport const listAllIds = async (client) => {\n  let pageToken = undefined;\n  let result = [];\n  do {\n    const { result: { messages, nextPageToken } } = await client.gmail.users.messages.list({\n      userId: 'me',\n      q: 'list:(<jetprofile-prod-lfs-notifications.jetbrains.com>)',\n      pageToken,\n    });\n    result = result.concat(messages.map(({id}) => id));\n    pageToken = nextPageToken;\n  } while (!_.isNil(pageToken));\n\n  return result;\n};\n\n\n","import localforage from 'localforage';\nimport {Set} from 'immutable';\nimport _ from 'lodash';\nimport dayjs from 'dayjs';\n\nexport const filterNewIds = async (ids) => {\n  const knownKeys = Set(await localforage.keys());\n  return _.filter(ids, (e) => !knownKeys.has(e));\n};\n\nconst sanitizeSubject = (subject) => {\n  return subject.replace(/^(jetprofile-prod RT error: )/, '');\n};\n\nexport const saveMessages = async (messages) => {\n  const promises = messages.map(({ id, payload: { headers } }) => {\n    const { value: date } = _.find(headers, ({ name }) => name.toLowerCase() === 'date');\n    const { value: subject } = _.find(headers, ({ name }) => name.toLowerCase() === 'subject');\n\n    return localforage.setItem(id, { date, subject: sanitizeSubject(subject) });\n  });\n  await Promise.all(promises);\n};\n\nexport const getAggregatedMessages = async (ids) => {\n  const messages = await Promise.all(ids.map((id) => localforage.getItem(id)));\n  const result = _.values(_.groupBy(messages, ({ subject }) => {\n    return subject.slice(0, 20);\n  })).map((entries) => {\n    entries.forEach((e) => {\n      e.timestamp = dayjs(e.date).unix();\n    });\n    const last = _.maxBy(entries, 'timestamp');\n    return { ...last, number: entries.length };\n  });\n  return _.reverse(_.sortBy(result, 'timestamp'));\n};","import React, {useRef, useState} from 'react';\nimport styles from './Dashboard.module.css';\nimport {connect} from 'react-redux';\nimport * as authActions from '../actions/authActions';\nimport * as mailActions from '../actions/mailActions';\nimport {useGoogleAuth} from '../common/google-auth';\nimport Header from '../components/Header';\nimport LoadingBanner from '../components/LoadingBanner';\nimport LoginBanner from '../components/LoginBanner';\nimport ErrorsTable from '../components/ErrorsTable';\nimport {getMessage, getMessages, listAllIds, useGoogleMail} from '../common/google-mail';\nimport {useAsyncEffect} from '../common/common';\nimport * as progressActions from '../actions/progressActions';\nimport {filterNewIds, getAggregatedMessages, saveMessages} from '../common/core';\n\nconst clientId = '797091362316-t4kt893ttu0ls2gdbjhbq7pn7g2r22tq.apps.googleusercontent.com';\nconst scope = 'https://www.googleapis.com/auth/gmail.readonly';\nconst apiKey = 'AIzaSyD-QsOK6xDB1oECO1uEX-PCzi-FeauYGSo';\nconst hostedDomain = 'jetbrains.com';\n\nconst Dashboard = (\n  {\n    initialized,\n    auth: { isSignedIn, signIn, signOut, profile: { name, imageUrl } },\n    mail: { client },\n    progress: { current, max, message },\n    onAuthInit,\n    onAuthInitError,\n    onSignedIn,\n    onSignedOut,\n    onMailInit,\n    onMailInitError,\n    activateProgress,\n    incrementProgress,\n    deactivateProgress,\n  },\n) => {\n  const [messages, setMessages] = useState([]);\n  useGoogleAuth({\n    clientId,\n    hostedDomain,\n    scope,\n    onSignedIn,\n    onSignedOut,\n    onInitialized: onAuthInit,\n    onInitializationError: onAuthInitError,\n  });\n  useGoogleMail({\n    apiKey,\n    onInitialized: onMailInit,\n    onInitializationError: onMailInitError,\n  });\n  // const count = useRef(0);\n  useAsyncEffect(async () => {\n    if (client !== undefined && isSignedIn) {\n      activateProgress({ message: `Loading emails...` });\n      const ids = await listAllIds(client);\n      activateProgress({ message: `Found ${ids.length} emails in LFS mail list` });\n      const newIds = await filterNewIds(ids);\n      activateProgress({ message: `Fetching ${newIds.length} new emails` });\n      const result = await getMessages(client, newIds);\n      await saveMessages(result);\n      console.log(`Done saving`);\n      activateProgress({ message: `Processing messages` });\n      setMessages(await getAggregatedMessages(ids));\n      console.log(`Done processing`);\n      deactivateProgress();\n    }\n  }, [ client, isSignedIn ]);\n\n  return (\n    <>\n      <Header\n        name={name}\n        imageUrl={imageUrl}\n        isSignedIn={isSignedIn}\n        signOut={signOut}\n      />\n      <main className={styles.mainContainer}>\n        {!initialized ?\n          <LoadingBanner current={current} max={max} message={message}/> :\n          (!isSignedIn ?\n              <LoginBanner onSignInClicked={signIn} disabled={!initialized}/> :\n              <ErrorsTable messages={messages}/>\n          )}\n      </main>\n    </>\n  );\n};\n\nconst mapStateToProps = (\n  {\n    auth: { initialized: authInitialized, isSignedIn, signIn, signOut, profile },\n    mail: { initialized: mailInitialized, client },\n    progress: { active, current, max, message },\n  },\n) => {\n  const initialized = authInitialized && mailInitialized && !active;\n  return {\n    initialized,\n    auth: { isSignedIn, signIn, signOut, profile },\n    mail: { client },\n    progress: { active, current, max, message },\n  };\n};\n\nconst mapDispatchToProps = {\n  onAuthInit: authActions.init,\n  onAuthInitError: authActions.initError,\n  onSignedIn: authActions.signIn,\n  onSignedOut: authActions.signOut,\n  onMailInit: mailActions.init,\n  onMailInitError: mailActions.initError,\n  activateProgress: progressActions.activateProgress,\n  incrementProgress: progressActions.incrementProgress,\n  deactivateProgress: progressActions.deactivateProgress,\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Dashboard);\n\n","import { AUTH_INIT, AUTH_INIT_ERROR, AUTH_SIGN_IN, AUTH_SIGN_OUT } from './actionTypes';\n\nexport const init = ({ signIn, signOut }) => ({\n  type: AUTH_INIT,\n  signIn,\n  signOut,\n});\n\nexport const initError = () => ({\n  type: AUTH_INIT_ERROR,\n});\n\nexport const signIn = ({ profile, tokens }) => ({\n  type: AUTH_SIGN_IN,\n  profile,\n  tokens,\n});\n\nexport const signOut = () => ({\n  type: AUTH_SIGN_OUT,\n});\n\n","import { MAIL_INIT, MAIL_INIT_ERROR, MAIL_PROGRESS_UPDATE } from './actionTypes';\n\nexport const init = (client) => ({\n  type: MAIL_INIT, client,\n});\n\nexport const initError = () => ({\n  type: MAIL_INIT_ERROR,\n});","import {PROGRESS_DEACTIVATE, PROGRESS_INCREMENT, PROGRESS_ACTIVATE} from './actionTypes';\n\nexport const activateProgress = ({ message, current, max }) => ({\n  type: PROGRESS_ACTIVATE,\n  message,\n  current,\n  max,\n});\n\nexport const incrementProgress = () => ({\n  type: PROGRESS_INCREMENT,\n});\n\nexport const deactivateProgress = () => ({\n  type: PROGRESS_DEACTIVATE,\n});","import React from 'react';\n\nimport 'antd/dist/antd.css';\nimport { Provider } from 'react-redux';\nimport { createStore } from 'redux';\nimport rootReducer from '../reducers';\nimport Dashboard from './Dashboard';\nimport { composeWithDevTools } from 'redux-devtools-extension';\nimport { Helmet } from 'react-helmet/es/Helmet';\n\nconst store = createStore(rootReducer, composeWithDevTools());\n\n\n\nfunction App() {\n  return (\n    <>\n      <Helmet>\n        <title>LFS errors dashboard</title>\n      </Helmet>\n      <Provider store={store}>\n        <Dashboard/>\n      </Provider>\n    </>\n  );\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' }\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './containers/App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"Header_header__3mObx\",\"logoContainer\":\"Header_logoContainer__39AYI\",\"logo\":\"Header_logo__2ins2\",\"logoTitle\":\"Header_logoTitle__3xLCf\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"SignInSignOutBlock_container__2c2bM\",\"userNameSpan\":\"SignInSignOutBlock_userNameSpan__3Fm_h\",\"avatarContainer\":\"SignInSignOutBlock_avatarContainer__11L6Q\",\"nameAndButtonContainer\":\"SignInSignOutBlock_nameAndButtonContainer__pxRSB\"};"],"sourceRoot":""}